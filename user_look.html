<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>AdminLTE 2 | user</title>
		<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
		<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
		<link rel="stylesheet" href="dist/css/AdminLTE.min.css">
		<link rel="stylesheet" href="dist/css/skins/skin-blue.min.css">
		<link rel="stylesheet" href="css/fr_card.css">
		<link rel="stylesheet" href="css/fr_style.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
		<link rel="stylesheet" href="bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
	</head>

	<body class="hold-transition skin-blue sidebar-mini">
		<div class="wrapper">

			<div class="content-wrapper">
				<section class="content-header ">
					<ol class="breadcrumb">
						<li>
							<a href="#"><i class="fa fa-dashboard"></i> 用户管理</a>
						</li>
						<li>
							<a href="#">
								</i> 用户列表</a>
						</li>
						<li class="active">查看</li>
					</ol>
				</section>
				<section class="content">
					<div class="box box-primary">
						<div class="details_card">
							<div class="box-body">
								<div class="fr_title">
									用户信息
								</div>
								<div class="details_card">
									<div class="row">
										<div class="col-xs-3">
											<div class="details_card_left">用户ID：</div>
											<div class="inline-block" name="id">--</div>
										</div>
										<div class="col-xs-3">
											<div class="details_card_left">手机号：</div>
											<div class="inline-block" name="phone">--</div>
										</div>
										<!--<div class="col-xs-3">
											<div class="details_card_left">登录密码：</div>
											<div class="inline-block" name="password">--</div>
										</div>-->
										<div class="col-xs-3">
											<div class="details_card_left">注册日期：</div>
											<div class="inline-block" name="time">--</div>
										</div>
										<div class="col-xs-3">
											<div class="details_card_left">直推ID：</div>
											<div class="inline-block" name="directUser">--</div>
										</div>
										<div class="col-xs-3">
											<div class="details_card_left">信用额度：</div>
											<div class="inline-block" name="creditBalance">--</div>
										</div>
										<!--<div class="col-xs-3">
											<div class="details_card_left">交易密码：</div>
											<div class="inline-block" name="payPassword">--</div>
										</div>-->
										<div class="col-xs-3">
											<div class="details_card_left">是否为领导人：</div>
											<div class="inline-block" name="isLeader">--</div>
										</div>
										<div class="col-xs-3">
											<div class="details_card_left">领导人ID：</div>
											<div class="inline-block" name="leaderUserId">--</div>
										</div>
									</div>
								</div>
							</div>
							<div class="box-body">
								<div class="fr_title">
									社区信息
								</div>
								<div class="row">
									<div class="col-xs-3">
										<div class="details_card_left">社区团队：</div>
										<div class="inline-block" ><span name="teamUserCount">--</span>人</div>
									</div>
									<div class="col-xs-9"></div>
									</br>
									<div class="col-xs-2">
										<div class="details_card_left">直推：</div>
										<div class="inline-block"><span name="pushCount1">--</span>人</div>
									</div>
									<div class="col-xs-2">
										<div class="details_card_left">二级：</div>
										<div class="inline-block"><span name="pushCount2">--</span>人</div>
									</div>
									<div class="col-xs-2">
										<div class="details_card_left">三级：</div>
										<div class="inline-block"><span name="pushCount3">--</span>人</div>
									</div>
									<div class="col-xs-2">
										<div class="details_card_left">四级：</div>
										<div class="inline-block"><span name="pushCount4">--</span>人</div>
									</div>
									<div class="col-xs-2">
										<div class="details_card_left">五级：</div>
										<div class="inline-block"><span name="pushCount5">--</span>人</div>
									</div>

								</div>
							</div>
							
							
							<div class="box-body">
								<div class="fr_title">
									社区收益
								</div>
								<div class="card_count">
									总计：<span name="totalOrderMoney">--</span>元
								</div>
								<div class="row">
									<div class="col-xs-12">
										<table class="table table-condensed"id="income">
											<tr>
												<th>订单号</th>
												<th>所属ID</th>
												<th>收款码类型</th>
												<th>订单金额（元）</th>
												<th>层数</th>
												<th>状态</th>
												<th>收益</th>
											</tr>
										</table>
									</div>
								</div>
								
								
							</div>
							
							
							<div class="box-body">
								<div class="fr_title">
									订单记录
								</div>
								<div class="card_count">
									<div class="inline-block">总计：<span>--</span></div>
									<div class="inline-block" style="margin-left:30px;">订单总额：<span>--</span></div>
									<div class="inline-block" style="margin-left:30px;">成交订单总额：<span>--</span></div>
								</div>
								<table class="table table-condensed" id="orderInfo">
									<tr>
										<th>订单号</th>
										<th>订单时间</th>
										<th>收款码类型</th>
										<th>状态</th>
										<th>总金额（元）</th>
										<th>收益</th>
									</tr>
								</table>
							</div>

							
							<div class="box-body">
								<div class="fr_title">
									码池
								</div>
								<table class="table table-condensed picTable"id="code">
									<tr>
										<th>码ID</th>
										<th>收款码类型</th>
										<th>码图</th>
										<th>订单数</th>
										<th>成单数</th>
										<th>成功率</th>
										<th>状态</th>
									</tr>
								</table>
							</div>
							<div style="height:50px;"></div>
						</div>
					</div>
				</section>
			</div>
		</div>
		<script src="bower_components/jquery/dist/jquery.min.js"></script>
		<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="dist/js/adminlte.min.js"></script>
		<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
		<script src="plugins/timepicker/bootstrap-timepicker.min.js"></script>
		<script src="bower_components/moment/min/moment.min.js"></script>
		<script src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
		<script src="js/fr_func.js"></script>
		<script src="js/nav.js"></script>
		<script src="js/fr.js"></script>
		<script type="text/javascript">
			$(".treeview").eq(1).addClass("menu-open").find("ul.treeview-menu").show().find("li").eq(0).addClass("active");
			var param = {
				token: localStorage.getItem("fr_token"),
				id: GetRequest().id
			}
			$.ajax({
				type: "post",
				url: url + "/user/showUserInfo",
				async: true,
				data: JSON.stringify(param),
				contentType: "application/json",
				dataType: "json",
				success: function(res) {
					if(res.returnCode == 501) {
						ToLogin(res)
					} else if(res.returnCode == 200) {
						$.each(res.data.basicInfo, function(index, item) {
							if(index=="isLeader"){
								var isLeader="";
								(item==-1)?(isLeader="否"):(isLeader="是");
								$("[name="+ index +"]").html(isLeader);
							}else if(index=="leaderUserId"){
								var leaderUserId=item;
								(item==0)?(leaderUserId="无"):(null);
								$("[name="+ index +"]").html(leaderUserId);
							}else{
								$("[name="+ index +"]").html(item);
							}
							
						})
						
						$.each(res.data.incomeInfo,function(index,item){
							$("#income").append("<tr> <td>"+item.receiveOrderId+"</td> <td>"+item.userId+"</td> <td>"+codeType(item.codeType)+"</td> <td>"+item.orderMoney+"</td> <td>"+item.level+"</td> <td>"+Income(item.status)+"</td> <td>"+item.money+"</td></tr>")
						})//income
						
						
						$.each(res.data.orderInfo,function(index,item){
							$("#orderInfo").append("<tr> <td>"+"订单号"+"</td> <td>"+item.time+"</td> <td>"+item.receiveType+"</td> <td>"+orderStatus(item.status)+"</td> <td>"+item.money+"</td> <td>"+item.userIncome+"</td></tr>")
						})//order
						
						$.each(res.data.codeInfo,function(index,item){
							$("#code").append("<tr> <td>"+item.id+"</td> <td>"+codeType(item.type)+"</td> <td>"+item.codeUrl+"</td> <td>"+item.orderCount+"</td> <td>"+item.overOrderCount+"</td> <td>"+item.overRate+"</td><td>"+userStatus(item.status)+"</td></tr>")
						})//
						

					} else {
						alert(res.msg);
					}
				}
			})
		</script>
	</body>

</html>